-- Tabela de Cursos
CREATE TABLE `Cursos`(
    `id_cursos` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `nome_cursos` VARCHAR(255) NOT NULL
);

-- Tabela de Turnos
CREATE TABLE `Turnos`(
    `id_turno` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `nome` VARCHAR(255) NOT NULL,
    `descricao` VARCHAR(255) NOT NULL,
    `ordem` INT NOT NULL
);

-- Tabela de Usu√°rios
CREATE TABLE `Usuario`(
    `id_usuario` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `nome` VARCHAR(255) NOT NULL,
    `email` VARCHAR(255) NOT NULL,
    `senha` VARCHAR(255) NOT NULL,
    `tipo_usuario` ENUM('aluno', 'professor', 'admin') NOT NULL,
    `id_curso` BIGINT UNSIGNED,
    `id_turno` BIGINT UNSIGNED,
    FOREIGN KEY (`id_curso`) REFERENCES `Cursos`(`id_cursos`),
    FOREIGN KEY (`id_turno`) REFERENCES `Turnos`(`id_turno`)
);

-- Tabela de Disciplinas
CREATE TABLE `Disciplinas`(
    `id_disciplina` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `nome` VARCHAR(255) NOT NULL,
    `codigo` VARCHAR(255) NOT NULL,
    `id_curso` BIGINT UNSIGNED,
    FOREIGN KEY (`id_curso`) REFERENCES `Cursos`(`id_cursos`)
);

-- Tabela Aluno_Disciplina (Relacionamento muitos-para-muitos)
CREATE TABLE `Aluno_Disciplina`(
    `id_usuario` BIGINT UNSIGNED NOT NULL,
    `id_disciplina` BIGINT UNSIGNED NOT NULL,
    PRIMARY KEY (`id_usuario`, `id_disciplina`),
    FOREIGN KEY (`id_usuario`) REFERENCES `Usuario`(`id_usuario`),
    FOREIGN KEY (`id_disciplina`) REFERENCES `Disciplinas`(`id_disciplina`)
);

-- Tabela Professor_Disciplina (Relacionamento muitos-para-muitos)
CREATE TABLE `Professor_Disciplina`(
    `id_usuario` BIGINT UNSIGNED NOT NULL,
    `id_disciplina` BIGINT UNSIGNED NOT NULL,
    PRIMARY KEY (`id_usuario`, `id_disciplina`),
    FOREIGN KEY (`id_usuario`) REFERENCES `Usuario`(`id_usuario`),
    FOREIGN KEY (`id_disciplina`) REFERENCES `Disciplinas`(`id_disciplina`)
);